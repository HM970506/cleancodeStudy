# 단위 테스트

<br/>

## TDD의 법칙
>실제 코드를 짜기 전에 단위테스트부터 짜라!
#### 첫째. 실패하는 단위 테스트를 작성할 때까지 실제 코드를 작성하지 않는다.
#### 둘째. 컴파일은 실패하지 않으면서 실행이 실패하는 정도로만 단위 테스트를 작성한다.
#### 셋째. 현재 실패하는 테스트를 통과할 정도만 실제 코드를 작성한다.
😳 그렇다면.. 해당 과정에서 나오는 방대한 테스트 코드는 어떻게 관리해야 하는가?

<br/>

## 깨끗한 테스트 코드 유지하기
>테스트 코드는 이류 시민이 아니다.

### 단위테스트는 유연성, 유지보수성, 재사용성을 제공한다
>테스트케이스가 없다면 모든 변경이 잠정적인 버그다.
#### 테스트 커버리지란?
수행한 테스트가 테스트의 대상을 얼마나 커버했는지 나타내는 척도 <br/>
👉 테스트 커버리지가 높을수록 코드 변경이 쉬워지고, 구조 개선이 용이해진다!

<br/>

## 깨끗한 테스트코드란?
* 높은 가독성이 중요!
* 세부사항에 대한 코드를 없애고 본론에 곧바로 돌입해라!

<br/>

### 도메인에 특화된 테스트 언어
>#### 도메인 특화 언어란?
>특정한 도메인을 적용하는데 특화된 컴퓨터 언어 <br/>
>ex) HTML은 같이 웹페이지 분야에서 널리 쓰이는 도메인 특화 언어!

시스템 조작 API를 사용하기보다, API위에 함수를 직접 구현해라! <br/>
= 특수한 테스트용 API <br/>
= 테스트 언어 <br/>

### 이중 표준
* 테스트 API코드에 적용되는 표준은 실제 코드 적용 표준과 다르다!
* 가독성과 간결함에 집중하여 룰을 만들어라!
* 코드가 메모리나 cpu사용에 효율적일 필요는 없다!

<br/>

## 테스트당 assert 하나
### assert문이란?
뒤의 조건이 True가 아니면 AssertError를 발생시키는 문법.
```java
 a = 3;
 assert a == 2; //AssertError!
```
👉 assert문의 사용을 최대한 줄여라!

### template method 패턴이란?
일부를 서브 클래스로 캡슐화해 전체 일을 수행하는 구조는 바꾸지 않으면서 특정 단계에서 수행하는 내역을 바꾸는 패턴
전체적으로는 동일하면서 부분적으로는 다른 구문으로 구성된 메서드의 코드 중복을 최소화 할 때 유용
![image](https://user-images.githubusercontent.com/62527898/179743441-ece04a5c-cf86-4fd7-8c47-d36137fb174e.png)


<br/>

## 테스트당 개념 하나
하나의 테스트함수는 하나의 개념만을 테스트하도록 해야 한다!

<br/>

## F.I.R.S.T
### 🏃‍♂️Fast
테스트는 빠르게 동작하여 자주 돌릴 수 있어야 한다.
테스트를 자주 돌려 초반에 문제를 찾아내고 코드를 정돈하면 코드 품질을 유지할 수 있다.
### 🤹‍Independent
각 테스트는 독립적이고, 실행순서에 무관하게 동작해야 한다.
### 🎡Repeatable
테스트는 어떤 환경에서도 반복가능해야 한다.
### 🎭Self-Validating
테스트는 bool값으로 결과를 내야 한다.
### ⏰Timely
테스트는 적시에 작성해야 한다.
	단위 테스트는 테스트하려는 실제 코드를 구현하기 직전에 구현한다.

<br/>

### 결론
* 테스트 코드는 실제 코드의 유연성, 유지보수성, 재사용성을 보존하고 강화한다.
* 테스트 코드의 표현력을 높이고 간결하게 정리해야 한다.
* 테스트 api를 구현하여 도메인 특화 언어(테스트 언어)를 만들어라.
* 테스트 코드를 깨끗하게 유지하여 실제 코드의 품질을 유지하라.
