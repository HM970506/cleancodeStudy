## TDD 법칙 세 가지
TDD가 실제 코드를 짜기 전에 단위 테스트부터 짜라고 요구한다.
>
> - 첫째 법칙	
>    - 실패하는 단위 테스트를 작성할 때까지 실제 코드를 작성하지 않는다.
> - 둘째 법칙
>    - 컴파일은 실패하지 않으면서 실행이 실패하는 정도로만 단위 테스트를 작성한다.
> - 셋째 법칙
>    - 현재 실패하는 테스트는 통과할 정도로만 실제 코드를 작성한다.

위 세 가지 규칙을 따르면 개발과 테스트가 대략 30초 주기로 묶인다.
테스트 코드와 실제 코드가 함께 나올뿐더러 테스트 코드가 실제 코드보다 불과 몇 초 전에 나온다.
이렇게 되면 실제 코드와 맞먹을 정도로 방대한 테스트 코드가 나오게 되는데 심각한 관리 문제를 유발하기도 한다.
## 깨끗한 테스트 코드 유지하기
### 지저분한 테스트 코드
- 실제 코드가 진화하면 테스트 코드도 변해야 하는데 코드가 지저분할수록 변경하기 어려워진다.
- 테스트 코드가 복잡해질수록 실제 코드를 짜는 시간보다 테스트 케이스를 추가하는 시간이 더 걸리게 된다.
- 새 버전을 출시할 때마다 팀이 테스트 케이스를 유지하고 보수하는 비용도 늘어난다.
### 테스트 코드는 실제 코드 못지 않게 중요하다
테스트 코드는 실제 코드 못지 않게 깨끗하게 짜야한다.
> ### 테스트는 유연성, 유지보수성, 재사용성을 제공한다
>> - 코드에 유연성, 유지보수성, 재사용성을 제공하는 버팀목이 바로 단위 테스트다.
>> - 테스트 커버리지가 높을수록 안심하고 아케텍처와 설계를 개선할 수 있다.
>> - 실제 코드를 점검하는 자동화된 단위 테스트 슈트는 설계와 아케텍처를 최대한 깨끗하게 보존하는 열쇠다.
>> - 테스트 케이스가 있으면 변경이 쉬워진다.

## 깨끗한 테스트 코드
- 가독성은 테스트 코드에서 매우 중요하다.
- 테스트 코드는 최소의 표현으로 많은 것을 나타내야 한다.
- BUILD-OPERATE-CHECK 패턴이 이와 같은 테스트 구조에 적합하다.
  - 첫 번째 부분은 테스트 자료를 만든다.
  - 두 번째 부분은 테스트 자료를 조작한다.
  - 세 번째 부분은 조작한 결과가 올바른지 확인한다.
- 테스트 코드는 본론에 돌입해 진짜 필요한 자료 유형과 함수만 사용한다.

### 도메인에 특화된 테스트 언어
> - 도메인에 특화된 언어(DSL)로 테스트 코드를 구현하는 기법을 구현한다.
> - API 위에다 함수와 유틸리티를 구현한 후 그 함수와 유틸리티를 사용하므로 테스트 코드를 짜기도 읽기도 쉬워진다.

### 이중 표준
>
> - 테스트 API 코드에 적용하는 표준은 실제 코드에 적용하는 표준과 확실히 다르다.
> - 테스트 코드는 단순하고, 간결하고, 표현력이 풍부해야 하지만 실제 코드만큼 효율적일 필요는 없다.
> - 실제 환경과 테스트 환경은 요구사항이 판이하게 다르기 때문이다.
> - 대게는 메모리와 CPU 효율과 관련있는 경우와 같이 실제 환경에서는 절대로 안 되지만 테스트 환경에서는 전혀 문제없는 방식이 있다.

### 테스트 당 ASSERT 하나
> 
> - JUnit으로 테스트 코드를 짤 때는 함수마다 assert문을 단 하나만 사용해야 한다는 주장이 있다.
> - assert문이 단 하나인 함수는 결론이 하나라서 코드를 이해하기 쉽고 빠르다.
> - 테스트를 두 개로 쪼개 각자가 assert를 수행하면 되는데, 이는 테스트가 분리되어 중복되는 코드가 많아진다는 단점이 있다.
> - 여기서 저자는 단일 assert문 규칙은 훌륭한 지침이기 때문에 assert문 개수를 최대한 줄이는게 좋다고 생각한다.

### 테스트 당 개념 하나
>
> - 이것저것 잡다한 개념을 연속으로 테스트하는 긴 함수는 피한다.
> - 가장 좋은 규칙은 '개념 당 assert문 수를 최소를 줄여라'와 '테스트 함수 하나는 개념 하나만 테스트하라'이다.

### F.I.R.S.T
>
> - 깨끗한 테스트가 따르는 다섯 가지 규칙
>>1. 빠르게(FAST) : 자주 돌릴 수 있도록 테스트는 빨라야 한다. 
>>2. 독립적으로(INDEPENDENT) : 테스트는 서로 의존하면 안된다.
>>3. 반복가능하게(REPEATABLE) : 테스트는 어떤 환경에서도 반복 가능해야 한다.
>>4. 자가검증하는(SELF-VALIDATING) : 테스트는 BOOL 값으로 결과를 내야 한다. (성공 OR 실패)
>>5. 적시에(TIMELY) : 테스트는 적시에 작성해야 한다. 
(단위테스트는 테스트하려는 실제 코드를 구현하기 직전에 구현한다.)
