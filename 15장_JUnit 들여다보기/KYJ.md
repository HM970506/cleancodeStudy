15장 JUnit 들여다보기
================
자바 프레임워크 중에서 가장 유명한 __JUnit 프레임워크__ 에서 가져온 코드를 평가해보자.  
<br>

### JUnit 프레임워크
_ComparisonCompactor 모듈에 대한 저자의 평가_
```
- 커버리지 분석을 수행했더니 100%. 이는 테스트 케이스가 모든 행, 모든 if문, 모든 for문을 실행한다는 의미이다.  
- 코드는 잘 분리되었고, 표현력이 적절하며, 구조가 단순하다.  
- 긴 표현식 몇 개와 이상한 +1 등이 눈에 띄지만 전반적으로 상당히 휼륭한 모듈이다.  
```
비록 저장들이 모듈을 아주 좋은 상태로 남겨두었지만 `보이스카우트 규칙`에 따라 우리는 __처음 왔을 때보다 더 깨끗하게 해놓고 떠나야 한다.__  
<br>

_ComparisonCompactor 모듈 리팩터링_
```
- 멤버 변수 앞에 붙인 접두어 f를 제거하자. 접두어 f는 중복되는 정보이므로 불필요하다.  
- 의도를 명확히 표현하기 위해 메소드를 이용하여 조건문을 캡슐화하자.  
- 의미가 명확한 변수명을 사용하고 변수명 중복을 최소화하자.  
- 부정문보다 긍정문을 사용한 조건문을 만들자. 긍정문이 부정문보다 이해하기 쉽기 때문이다.  
- 함수의 기능을 분리하고 그에 따라 무엇을 하는 함수인지 알기 쉽도록 함수명을 명확히 하자.  
- 함수는 되도록 사용방식(반환값 존재 여부 등)이 일관되도록 하자.  
- 시간 결합을 외부에 노출하기 위해 함수명을 명확히 하자.   
- 불필요한 if문을 제거하자.  
```
위의 리팩터링을 통해 모듈은 일련의 `분석 함수`와 일련의 `조합 함수`로 나뉜다. 전체 함수는 위상적으로 정렬했으므로 각 함수가 사용된 직후에 정의된다.
분석 함수가 먼저 나오고 조합 함수가 그 뒤를 이어서 나온다.  
<br>

### 결론
세상에 개선이 불필요한 모듈은 없다. 코드를 처음보다 조금 더 깨끗하게 만드는 책임은 우리 모두에게 있다.  